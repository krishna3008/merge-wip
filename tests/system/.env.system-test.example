# System Test Environment Configuration
# Copy this file to .env.system-test and configure with real values

# ============================================
# GitLab Configuration
# ============================================
GITLAB_URL=https://gitlab.com
GITLAB_TOKEN=glpat-your-gitlab-token-here
GITLAB_PROJECT_ID=12345
GITLAB_TEST_PROJECT_NAME=test-project

# ============================================
# Test User Credentials
# ============================================
# These will be created if they don't exist
TEST_ADMIN_USERNAME=test_admin
TEST_ADMIN_PASSWORD=test_admin_password_123
TEST_ADMIN_EMAIL=test_admin@example.com

TEST_USER_USERNAME=test_user
TEST_USER_PASSWORD=test_user_password_123
TEST_USER_EMAIL=test_user@example.com

# ============================================
# Database Configuration
# ============================================
DB_HOST=localhost
DB_PORT=5432
DB_USER=merge_assist
DB_PASSWORD=password
DB_NAME=merge_assist_system_test

# ============================================
# Redis Configuration
# ============================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# ============================================
# Service Endpoints
# ============================================
API_GATEWAY_URL=http://localhost:8000
LISTENER_URL=http://localhost:8001

# ============================================
# JWT Configuration
# ============================================
JWT_SECRET_KEY=test-secret-key-for-system-tests-min-32-chars
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# ============================================
# Secrets Management
# ============================================
SECRETS_PROVIDER=local
SECRETS_FILE=/tmp/system_test_secrets.enc
MASTER_PASSWORD=test-master-password

# ============================================
# Test MR Configuration
# ============================================
# Branch names for test MRs
TEST_SOURCE_BRANCH=feature/system-test
TEST_TARGET_BRANCH=main

# Number of test MRs to create
TEST_MR_COUNT=5

# ============================================
# AI Configuration (Optional)
# ============================================
OPENAI_API_KEY=sk-your-openai-key-optional
ENABLE_AI_TESTS=false

# ============================================
# Test Timeouts (seconds)
# ============================================
WEBHOOK_TIMEOUT=30
PIPELINE_TIMEOUT=300
MERGE_TIMEOUT=60
WORKER_STARTUP_TIMEOUT=30

# ============================================
# Cleanup Configuration
# ============================================
# Whether to cleanup test data after tests
CLEANUP_AFTER_TESTS=true

# Whether to cleanup test MRs on GitLab
CLEANUP_GITLAB_MRS=false

# ============================================
# Logging Configuration
# ============================================
LOG_LEVEL=DEBUG
LOG_FILE=system_test.log
